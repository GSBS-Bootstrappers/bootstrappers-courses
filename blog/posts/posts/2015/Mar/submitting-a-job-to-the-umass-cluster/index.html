<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Submitting a Job to the UMass Cluster - Sneakers</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/posts/posts/2015/Mar/submitting-a-job-to-the-umass-cluster/">

        <meta name="author" content="Chris MacKay" />
        <meta name="keywords" content="cluster,HPCC,GHPCC,python,LSF" />
        <meta name="description" content="First you will need to login to the cluster see the past post on how to do that. Then you will need to decide the details about your jon: flag example how long will the job run for (hh:mm) -W -W 04:00 which queue will you submit to ..." />

        <meta property="og:site_name" content="Sneakers" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Submitting a Job to the UMass Cluster"/>
        <meta property="og:url" content="/posts/posts/2015/Mar/submitting-a-job-to-the-umass-cluster/"/>
        <meta property="og:description" content="First you will need to login to the cluster see the past post on how to do that. Then you will need to decide the details about your jon: flag example how long will the job run for (hh:mm) -W -W 04:00 which queue will you submit to ..."/>
        <meta property="article:published_time" content="2015-03-01" />
            <meta property="article:section" content="posts" />
            <meta property="article:tag" content="cluster" />
            <meta property="article:tag" content="HPCC" />
            <meta property="article:tag" content="GHPCC" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="LSF" />
            <meta property="article:author" content="Chris MacKay" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/default.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>


</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Sneakers            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="/category/biotools.html">Biotools</a>
                        </li>
                        <li >
                            <a href="/category/golang.html">Golang</a>
                        </li>
                        <li class="active">
                            <a href="/category/posts.html">Posts</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/posts/posts/2015/Mar/submitting-a-job-to-the-umass-cluster/"
                       rel="bookmark"
                       title="Permalink to Submitting a Job to the UMass Cluster">
                        Submitting a Job to the UMass Cluster
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
            <span class="label label-default">Written By:</span>
            <a href="/author/chris-mackay.html"><i class="fa fa-user"></i> Chris MacKay</a></br>
    
    

    
    <span class="label label-default">On </span>
    <span class="published">
        <time datetime="2015-03-01T00:00:00-05:00"> Sun 01 March 2015</time>
    </span></br>




<span class="label label-default">Tags</span>
	<a href="/tag/cluster.html">cluster</a>
        ,
	<a href="/tag/hpcc.html">HPCC</a>
        ,
	<a href="/tag/ghpcc.html">GHPCC</a>
        ,
	<a href="/tag/python.html">python</a>
        ,
	<a href="/tag/lsf.html">LSF</a>
</br>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <hr />
<p>First you will need to login to the cluster <a href="#">see the past post</a> on how to do that.</p>
<p>Then you will need to decide the details about your jon:</p>
<table>
<thead>
<tr>
<th></th>
<th>flag</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr>
<td>how long will the job run for (hh:mm)</td>
<td><code>-W</code></td>
<td><code>-W 04:00</code></td>
</tr>
<tr>
<td>which queue will you submit to</td>
<td><code>-q</code></td>
<td><code>-q long</code></td>
</tr>
<tr>
<td>how many cores will you request</td>
<td><code>-n</code></td>
<td><code>-n 20</code></td>
</tr>
<tr>
<td>what is the title of this job</td>
<td><code>-J</code></td>
<td><code>-J important-job</code></td>
</tr>
<tr>
<td>project name</td>
<td><code>-P</code></td>
<td><code>-P project-name</code></td>
</tr>
<tr>
<td>output file</td>
<td><code>-oo</code></td>
<td><code>-oo output.txt</code></td>
</tr>
</tbody>
</table>
<p>each one of these flags need to be in a separate, special comment that starts with <code>#BSUB</code> (capitalization is required)</p>
<div class="highlight"><pre><span class="c">#!/usr/bin/env python </span>

<span class="c">#BSUB -W 00:10</span>
<span class="c">#BSUB -q regular</span>
<span class="c">#BSUB -n 12</span>
<span class="c">#BSUB -J myjob.py</span>
<span class="c">#BSUB -P project_code</span>
<span class="c">#BSUB -oo output</span>

<span class="kn">import</span> <span class="nn">subprocess</span>

<span class="n">bowtie2</span> <span class="o">=</span> <span class="s">&quot;bowtie2&quot;</span>

<span class="n">genome</span> <span class="o">=</span> <span class="s">&quot;lambda_virus&quot;</span>

<span class="n">raw</span> <span class="o">=</span> <span class="s">&quot;/example/reads/reads_1.fq&quot;</span>

<span class="n">output</span> <span class="o">=</span> <span class="s">&quot;eg1.sam&quot;</span>

<span class="n">bowtie_call</span> <span class="o">=</span> <span class="p">[</span><span class="n">bowtie2</span><span class="p">,</span> <span class="s">&quot;-x&quot;</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="s">&quot;-U&quot;</span><span class="p">,</span> <span class="n">raw</span><span class="p">,</span> <span class="s">&quot;-S&quot;</span><span class="p">,</span> <span class="n">output</span><span class="p">]</span>

<span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">bowtie_call</span><span class="p">)</span> 
</pre></div>


<p>In order for this to work, you need to make sure that the your python submit script is <em>exectuable</em>. Making a file exectuable, means that the computer current user has been granted permission to run that perticular file directly (ie you can run it by name via <code>$ myscript.py</code>, as opposed to by first calling python via <code>$ python myscript.py</code>.</p>
<p>To make your python script exectubable use the <code>chmod</code> (aka <strong>ch</strong>ange <strong>mod</strong>e command): <code>chmod u+x myscript.py</code>. </p>
<p>Then you can submit your job like so:</p>
<div class="highlight"><pre><span class="nv">$ </span>bjobs &lt; pythonscript.py
</pre></div>


<p>example adapted from the from a NCAR/UCAR CISL <a href="https://www2.cisl.ucar.edu/resources/yellowstone/using_resources/runningjobs/lsf_examples">example</a></p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/GSBS-Bootstrappers/"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="#"><i class="fa fa-another-social-link-square fa-lg"></i> Another social link</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-4">
                        <a href="/tag/hpcc.html">
                            HPCC
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/python.html">
                            python
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/lsf.html">
                            LSF
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/ghpcc.html">
                            GHPCC
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="/tag/cluster.html">
                            cluster
                        </a>
                    </li>
                </ul>
            </li>
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://bioinfo.umassmed.edu" target="_blank">
                UMMSBioinfo
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://biostars.org/" target="_blank">
                Biostars
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 The GSBS Boostrappers
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>


</body>
</html>